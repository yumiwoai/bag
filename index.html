<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êô®Êõ¶Ëã±ËØ≠ ‚ú® ËÆ©Â≠¶‰π†ÂÖÖÊª°Èò≥ÂÖâ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #ffeef8 0%, #ffe0f0 35%, #fbcfe8 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Âä®ÁîªËÉåÊôØË£ÖÈ•∞ */
        .floating-hearts {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            animation: float 15s infinite linear;
            opacity: 0.3;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Â§¥ÈÉ®Ê†áÈ¢ò */
        .header {
            text-align: center;
            padding: 30px 0;
            animation: fadeIn 0.8s ease;
        }

        .title {
            font-size: 2.5em;
            background: linear-gradient(45deg, #ff6b9d, #feca57, #ff9ff3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
            text-shadow: 2px 2px 10px rgba(255, 107, 157, 0.2);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #ff6b9d;
            font-size: 1.1em;
            font-weight: 300;
        }

        /* ÊêúÁ¥¢Ê°ÜÂå∫Âüü */
        .search-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.3);
            margin-bottom: 30px;
            animation: slideUp 0.6s ease;
        }

        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            padding: 15px 25px;
            border: 2px solid #ffc0cb;
            border-radius: 25px;
            font-size: 1.1em;
            outline: none;
            transition: all 0.3s ease;
            background: rgba(255, 240, 245, 0.5);
        }

        .search-input:focus {
            border-color: #ff6b9d;
            box-shadow: 0 0 15px rgba(255, 107, 157, 0.2);
            transform: translateY(-2px);
        }

        .search-btn {
            padding: 15px 35px;
            background: linear-gradient(135deg, #ff6b9d, #ff9ff3);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(255, 107, 157, 0.3);
        }

        .search-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.4);
        }

        .search-btn:active {
            transform: translateY(0);
        }

        /* Âø´ÈÄüÊ†áÁ≠æ */
        .quick-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        /* Áõ∏ÂÖ≥Áü≠ËØ≠ÂíåÂçïËØçÊ†∑Âºè */
        .phrase-item {
            padding: 8px 0;
            border-bottom: 1px dashed #ffc0cb;
            color: #666;
            line-height: 1.6;
        }

        .phrase-item:last-child {
            border-bottom: none;
        }

        .phrase-item strong {
            color: #ff6b9d;
            margin-right: 10px;
        }

        .tag {
            display: inline-block;
            padding: 8px 16px;
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            color: #6c5ce7;
            border: none;
            box-shadow: 0 3px 10px rgba(253, 203, 110, 0.3);
            margin: 5px;
        }

        .tag:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(253, 203, 110, 0.5);
        }

        /* ÁªìÊûúÂ±ïÁ§∫Âå∫ */
        .result-container {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(255, 182, 193, 0.3);
            animation: fadeInUp 0.5s ease;
        }

        .result-container.show {
            display: block;
        }

        /* Âä†ËΩΩÂä®Áîª */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.show {
            display: block;
        }

        .loading-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 5px solid #ffc0cb;
            border-radius: 50%;
            border-top-color: #ff6b9d;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ÂçïËØçÂç°Áâá */
        .word-card {
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #fff5f8, #ffe8f3);
            border-radius: 20px;
            border-left: 5px solid #ff6b9d;
        }

        .word-header {
            display: flex;
            align-items: baseline;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .word-title {
            font-size: 2em;
            color: #ff6b9d;
            font-weight: bold;
        }

        .phonetic {
            color: #ff9ff3;
            font-size: 1.2em;
        }

        .word-type {
            background: linear-gradient(135deg, #feca57, #f6b93b);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        /* ‰ø°ÊÅØÂå∫Âùó */
        .info-section {
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .section-title {
            font-size: 1.2em;
            color: #ff6b9d;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            font-size: 1.5em;
        }

        .section-content {
            color: #666;
            line-height: 1.8;
            padding-left: 35px;
        }

        /* ‰æãÂè•Ê†∑Âºè */
        .example-box {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
        }

        .example-en {
            color: #495057;
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .example-zh {
            color: #868e96;
            font-style: italic;
        }

        /* ËÆ∞ÂøÜÊñπÊ≥ï */
        .memory-tips {
            background: linear-gradient(135deg, #fff9c4, #ffeb3b);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 3px 15px rgba(255, 235, 59, 0.3);
        }

        .memory-tips-title {
            color: #f57c00;
            font-size: 1.3em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .memory-content {
            color: #795548;
            line-height: 1.8;
        }

        /* Ë∞êÈü≥ËÆ∞ÂøÜÁâπÂà´Ê†∑Âºè */
        .phonetic-memory {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            border: 2px solid #ff6b9d;
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(255, 107, 157, 0.2);
        }

        .phonetic-memory::before {
            content: 'üéµ';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 80px;
            opacity: 0.1;
            transform: rotate(-15deg);
        }

        .phonetic-memory-title {
            color: #ff6b9d;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .phonetic-memory-badge {
            background: linear-gradient(135deg, #ff6b9d, #ff9ff3);
            color: white;
            padding: 3px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .phonetic-item {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .phonetic-item:hover {
            transform: translateX(10px);
            border-color: #ff6b9d;
            box-shadow: 0 3px 15px rgba(255, 107, 157, 0.2);
        }

        .phonetic-word {
            font-size: 1.3em;
            color: #ff6b9d;
            font-weight: bold;
            min-width: 100px;
        }

        .phonetic-arrow {
            color: #feca57;
            font-size: 1.5em;
        }

        .phonetic-text {
            font-size: 1.2em;
            color: #6c5ce7;
            flex: 1;
            font-weight: 500;
        }

        .phonetic-explanation {
            color: #95a5a6;
            font-size: 0.9em;
            font-style: italic;
            margin-left: 10px;
        }

        /* ÈîôËØØÊèêÁ§∫ */
        .error-message {
            background: linear-gradient(135deg, #ff6b9d, #ff9ff3);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }

        /* Âä®ÁîªÊïàÊûú */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .title {
                font-size: 2em;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .search-btn {
                width: 100%;
            }
            
            .word-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- ÊµÆÂä®Ë£ÖÈ•∞ -->
    <div class="floating-hearts" id="hearts"></div>

    <div class="container">
        <!-- Â§¥ÈÉ® -->
        <div class="header">
            <h1 class="title">‚ú® Êô®Êõ¶Ëã±ËØ≠ ‚ú®</h1>
            <p class="subtitle">ËÆ©ÊØè‰∏™ÂçïËØçÈÉΩÂÖÖÊª°Èò≥ÂÖâÂíåÊ∏©Êöñ üíï</p>
        </div>

        <!-- ÊêúÁ¥¢Âå∫Âüü -->
        <div class="search-container">
            <div class="search-box">
                <input type="text" class="search-input" id="wordInput" placeholder="ËæìÂÖ•‰Ω†ÊÉ≥Êü•ËØ¢ÁöÑÂçïËØç..." />
                <button class="search-btn" onclick="searchWord()">üîç Êü•ËØ¢</button>
            </div>
            
            <div class="quick-tags">
                <button class="tag" onclick="quickSearch('ambulance')">üöë ambulance</button>
                <button class="tag" onclick="quickSearch('pest')">üêõ pest</button>
                <button class="tag" onclick="quickSearch('economy')">üí∞ economy</button>
                <button class="tag" onclick="quickSearch('champion')">üèÜ champion</button>
                <button class="tag" onclick="quickSearch('diamond')">üíé diamond</button>
                <button class="tag" onclick="quickSearch('adventure')">üó∫Ô∏è adventure</button>
                <button class="tag" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7); color: white;" onclick="testAPI()">üîß ÊµãËØïAPI</button>
            </div>
        </div>

        <!-- Âä†ËΩΩÂä®Áîª -->
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p style="color: #ff6b9d; margin-top: 20px;">Ê≠£Âú®‰∏∫‰Ω†Êü•ËØ¢ÔºåËØ∑Á®çÂÄô...</p>
        </div>

        <!-- ÁªìÊûúÂ±ïÁ§∫Âå∫ -->
        <div class="result-container" id="resultContainer"></div>
    </div>

    <script>
        // ‚ö†Ô∏è ÈáçË¶ÅÊèêÁ§∫Ôºö
        // 1. Â¶ÇÊûúÈÅáÂà∞CORSÈîôËØØÔºåÂ∞Ü‰∏ãÈù¢ÁöÑ USE_PROXY Êîπ‰∏∫ true
        // 2. ÁÑ∂ÂêéËÆøÈóÆ https://cors-anywhere.herokuapp.com/corsdemo ÊøÄÊ¥ª‰ª£ÁêÜ
        // 3. Ê≠£ÂºèÈÉ®ÁΩ≤Âª∫ËÆÆ‰ΩøÁî®ÂêéÁ´ØÊúçÂä°Âô®‰ª£ÁêÜAPIËØ∑Ê±Ç
        
        // ÂàõÂª∫ÊµÆÂä®Ë£ÖÈ•∞
        function createHearts() {
            const hearts = document.getElementById('hearts');
            const heartSymbols = ['üíï', 'üíñ', 'üíó', 'üíù', '‚ú®', 'üå∏'];
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.innerHTML = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.animationDelay = Math.random() * 15 + 's';
                    hearts.appendChild(heart);
                }, i * 1500);
            }
        }

        createHearts();

        // Kimi APIÈÖçÁΩÆ
        const KIMI_API_ENDPOINT = 'https://api.moonshot.cn/v1/chat/completions';
        const KIMI_API_KEY = 'sk-evMHcHPT2lHrvFwxKd8XuT8QARO1qLy09kT5CHb1hcGCq9Oj';
        
        // CORS‰ª£ÁêÜËÆæÁΩÆÔºàÁî®‰∫éËß£ÂÜ≥Ë∑®ÂüüÈóÆÈ¢òÔºâ
        // Ê≠•È™§1: Â∞Ü USE_PROXY ËÆæ‰∏∫ true
        // Ê≠•È™§2: ËÆøÈóÆ https://cors-anywhere.herokuapp.com/corsdemo ÁÇπÂáªÊåâÈíÆÊøÄÊ¥ª
        // Ê≠•È™§3: Âà∑Êñ∞Êú¨È°µÈù¢Âç≥ÂèØ‰ΩøÁî®
        const USE_PROXY = false; // ‚Üê Â¶ÇÈÅáÂà∞CORSÈîôËØØÔºåÊîπ‰∏∫ true
        const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/';
        const API_URL = USE_PROXY ? CORS_PROXY + KIMI_API_ENDPOINT : KIMI_API_ENDPOINT;

        // Êü•ËØ¢ÂçïËØç
        async function searchWord() {
            const wordInput = document.getElementById('wordInput');
            const word = wordInput.value.trim();
            
            if (!word) {
                showError('ËØ∑ËæìÂÖ•Ë¶ÅÊü•ËØ¢ÁöÑÂçïËØçÂì¶~ üíï');
                return;
            }

            showLoading();
            
            try {
                const wordData = await queryKimi(word);
                displayResult(wordData);
            } catch (error) {
                console.error('Êü•ËØ¢Â§±Ë¥•:', error);
                
                // Ê†πÊçÆÈîôËØØÁ±ªÂûãÊòæÁ§∫‰∏çÂêåÊèêÁ§∫
                if (error.message.includes('CORS') || error.message.includes('Failed to fetch')) {
                    showError(`
                        <div style="text-align: left; padding: 10px;">
                            <h3>üö´ Ë∑®ÂüüÈîôËØØÔºàCORSÔºâ</h3>
                            <p>ÊµèËßàÂô®ÂÆâÂÖ®Á≠ñÁï•ÈòªÊ≠¢‰∫ÜAPIË∞ÉÁî®ÔºåËØ∑Â∞ùËØïÔºö</p>
                            <ol style="margin: 10px 0; padding-left: 20px;">
                                <li>Âú®‰ª£Á†Å‰∏≠ËÆæÁΩÆ USE_PROXY = true</li>
                                <li>Êàñ‰ΩøÁî®ÂêéÁ´ØÊúçÂä°Âô®‰ª£ÁêÜ</li>
                                <li>ÊàñÂÖàÊü•ÁúãÊ®°ÊãüÊï∞ÊçÆÊïàÊûú üëá</li>
                            </ol>
                        </div>
                    `);
                } else if (error.message.includes('401')) {
                    showError('APIÂØÜÈí•Êó†ÊïàÔºåËØ∑Ê£ÄÊü•API KeyÊòØÂê¶Ê≠£Á°Æ üîë');
                } else if (error.message.includes('429')) {
                    showError('ËØ∑Ê±ÇÂ§™È¢ëÁπÅÔºåËØ∑Á®çÂêéÂÜçËØï ‚è∞');
                } else {
                    showError(`Âá∫Èîô‰∫ÜÔºö${error.message} üíî`);
                }
                
                // ÊòæÁ§∫Ê®°ÊãüÊï∞ÊçÆËÆ©Áî®Êà∑ÁúãÁúãÊïàÊûú
                setTimeout(() => {
                    console.log('ÊòæÁ§∫Ê®°ÊãüÊï∞ÊçÆ‰ª•Â±ïÁ§∫ÊïàÊûú...');
                    displayMockData(word);
                }, 2000);
            }
        }

        // ÊµãËØïAPIËøûÊé•
        async function testAPI() {
            console.log('ÂºÄÂßãÊµãËØïAPIËøûÊé•...');
            showLoading();
            
            try {
                const testResponse = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${KIMI_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'moonshot-v1-8k',
                        messages: [{
                            role: 'user',
                            content: 'ÂõûÂ§çOK'
                        }],
                        temperature: 0.3,
                        max_tokens: 10
                    })
                });
                
                if (testResponse.ok) {
                    const data = await testResponse.json();
                    hideLoading();
                    showError('‚úÖ APIËøûÊé•ÊàêÂäüÔºÅÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®‰∫Ü~');
                    console.log('APIÊµãËØïÊàêÂäü:', data);
                } else {
                    throw new Error(`APIËøîÂõûÈîôËØØ: ${testResponse.status}`);
                }
            } catch (error) {
                hideLoading();
                console.error('APIÊµãËØïÂ§±Ë¥•:', error);
                
                if (error.message.includes('Failed to fetch')) {
                    showError(`
                        <div style="text-align: left;">
                            <h3>‚ùå CORSÈîôËØØ</h3>
                            <p>ÈúÄË¶ÅÈÄöËøá‰ª•‰∏ãÊñπÂºèËß£ÂÜ≥Ôºö</p>
                            <ol style="padding-left: 20px;">
                                <li>ËÆæÁΩÆ USE_PROXY = true Âπ∂ÊøÄÊ¥ª‰ª£ÁêÜ</li>
                                <li>ÊàñÈÉ®ÁΩ≤ÂêéÁ´ØÊúçÂä°Âô®</li>
                            </ol>
                        </div>
                    `);
                } else {
                    showError(`APIÊµãËØïÂ§±Ë¥•: ${error.message}`);
                }
            }
        }

        // Âø´ÈÄüÊü•ËØ¢
        function quickSearch(word) {
            document.getElementById('wordInput').value = word;
            searchWord();
        }

        // Ë∞ÉÁî®Kimi API
        async function queryKimi(word) {
            const prompt = `ËØ∑‰ª•ÁîüÂä®ÊúâË∂£ÁöÑÊñπÂºèÂàÜÊûêËã±ËØ≠ÂçïËØç "${word}"ÔºåÂπ∂Êåâ‰ª•‰∏ãÊ†ºÂºèÊèê‰æõJSONÊ†ºÂºèÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºö
            {
                "word": "${word}",
                "phonetic": "Èü≥Ê†á",
                "translations": {
                    "en": "Ëã±ÊñáÈáä‰πâ",
                    "zh": "‰∏≠ÊñáÈáä‰πâ"
                },
                "wordType": "ËØçÊÄßÔºà‰∏≠ÊñáË°®Ëø∞Ôºâ",
                "etymology": {
                    "root": "ËØçÊ†πÂàÜÊûêÔºàËØ∑Áî®‰∏≠ÊñáËØ¶ÁªÜËØ¥ÊòéÔºåË¶ÅÁ™ÅÂá∫ÈáçÁÇπÔºåÁî®Á¨¶Âè∑Ê†áËÆ∞ÂÖ≥ÈîÆÈÉ®ÂàÜÔºâ",
                    "origin": "ËØçÊ∫ê‰ø°ÊÅØÔºàËØ∑Áî®‰∏≠ÊñáËØ¶ÁªÜËØ¥ÊòéÔºåË¶ÅÂÉèËÆ≤ÊïÖ‰∫ã‰∏ÄÊ†∑ÁîüÂä®Ôºâ"
                },
                "phoneticMemory": {
                    "chinese": "‰∏≠ÊñáË∞êÈü≥ÔºàÊ†πÊçÆÂçïËØçÁöÑËã±ÊñáÂèëÈü≥ÊâæÊúÄÊé•ËøëÁöÑ‰∏≠ÊñáËØªÈü≥Ôºâ",
                    "explanation": "Ë∞êÈü≥ËÅîÊÉ≥Ëß£ÈáäÔºàÊääË∞êÈü≥ÂíåÂçïËØçÊÑèÊÄùÂ∑ßÂ¶ôÁªìÂêàÔºâ"
                },
                "memoryTips": "ÂÖ∂‰ªñËÆ∞ÂøÜÊñπÊ≥ïÔºàËØ∑Êèê‰æõÁîüÂä®„ÄÅÊúâË∂£„ÄÅÂÆπÊòìËÆ∞‰ΩèÁöÑÊñπÊ≥ïÔºâ",
                "examples": {
                    "en": "Ëã±Êñá‰æãÂè•",
                    "zh": "‰∏≠Êñá‰æãÂè•"
                },
                "phrases": [
                    {"en": "Ëã±ÊñáÁü≠ËØ≠1", "zh": "‰∏≠ÊñáÈáä‰πâ1"},
                    {"en": "Ëã±ÊñáÁü≠ËØ≠2", "zh": "‰∏≠ÊñáÈáä‰πâ2"},
                    {"en": "Ëã±ÊñáÁü≠ËØ≠3", "zh": "‰∏≠ÊñáÈáä‰πâ3"}
                ],
                "relatedWords": [
                    {"en": "Áõ∏ÂÖ≥ÂçïËØç1", "zh": "‰∏≠ÊñáÈáä‰πâ1"},
                    {"en": "Áõ∏ÂÖ≥ÂçïËØç2", "zh": "‰∏≠ÊñáÈáä‰πâ2"},
                    {"en": "Áõ∏ÂÖ≥ÂçïËØç3", "zh": "‰∏≠ÊñáÈáä‰πâ3"}
                ],
                "examPoints": "Â§ßÂ≠¶ÂõõÁ∫ßËÄÉÁÇπÔºàËØ¶ÁªÜËØ¥ÊòéËØ•ËØçÂú®ÂõõÁ∫ßËÄÉËØï‰∏≠ÁöÑÈáçË¶ÅÊÄßÂíåÂ∏∏ËßÅËÄÉÊ≥ïÔºâ"
            }
            
            ËØ¶ÁªÜË¶ÅÊ±ÇÔºö
            1. ËØçÊ∫êÂàÜÊûêÈÉ®ÂàÜÔºö
               - ‰ΩøÁî® "*" Ê†áËÆ∞ÈáçË¶ÅÁöÑËØçÊ†πËØçÁºÄ
               - ÂÉèËÆ≤ÊïÖ‰∫ã‰∏ÄÊ†∑Â±ïÂºÄËØçÊ∫êËß£Èáä
               - Á™ÅÂá∫ËØçÊ†π‰πãÈó¥ÁöÑÂÖ≥ËÅîÊÄß
               - Âä†ÂÖ•ÁÆÄÂçïÁöÑÂéÜÂè≤ËÉåÊôØÊàñÊúâË∂£ÂÖ∏ÊïÖ
            
            2. Ë∞êÈü≥ËÆ∞ÂøÜÔºàphoneticMemoryÔºâ- ËøôÊòØÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜÔºö
               - Ê†πÊçÆÂçïËØçÁöÑÂÆûÈôÖËã±ÊñáÂèëÈü≥ÔºåÊâæÊúÄÊé•ËøëÁöÑ‰∏≠ÊñáËØªÈü≥
               - ‰∏çÊòØÈü≥Ê†áÂàÜÊûêÔºåËÄåÊòØÊâæ‰∏≠ÊñáË∞êÈü≥
               - Ë∞êÈü≥Ë¶ÅÂ∞ΩÂèØËÉΩË¥¥ËøëËã±ÊñáÂèëÈü≥
               - ÊääË∞êÈü≥ÂíåÂçïËØçÂê´‰πâÂ∑ßÂ¶ôÁªìÂêàÊàê‰∏ÄÂè•ËØù
               - Á§∫‰æãÔºö
                 * ambulance ‚Üí "‰ø∫‰∏çËÉΩÊ≠ª"ÔºàÊïëÊä§ËΩ¶Êù•‰∫ÜÔºå‰ø∫‰∏çËÉΩÊ≠ªÔºâ
                 * pest ‚Üí "ÊãçÊ≠ªÂÆÉ"ÔºàÂÆ≥Ëô´Êù•‰∫ÜÔºåÊãçÊ≠ªÂÆÉÔºâ
                 * economy ‚Üí "‰æùÈù†ÂÜúÊ∞ë"ÔºàÁªèÊµé‰æùÈù†ÂÜúÊ∞ëÔºâ
                 * pregnant ‚Üí "ÊâëÊù•‰∏™Áî∑ÁöÑ"ÔºàÊÄÄÂ≠ï‰∫ÜÔºâ
                 * abandon ‚Üí "‰∏ÄÊùøÂá≥"ÔºàÊîæÂºÉ‰∫ÜÔºåÂè™Ââ©‰∏ÄÊùøÂá≥Ôºâ
               - Ë∞êÈü≥ÂèØ‰ª•ÊòØÂÆåÊï¥ÁöÑÂè•Â≠êÔºå‰πüÂèØ‰ª•ÊòØËØçÁªÑ
               - ÈáçÁÇπÊòØËØªÈü≥Áõ∏‰ººÔºå‰æø‰∫éËÆ∞ÂøÜ
            
            3. ÂÖ∂‰ªñËÆ∞ÂøÜÊñπÊ≥ïÔºàËá≥Â∞ëÂåÖÂê´‰∏§ÁßçÔºâÔºö
               - ÂõæÂÉèËÅîÊÉ≥ÔºöÂàõÈÄ†ÁîüÂä®ÁöÑÁîªÈù¢
               - ÊÉÖÊôØËÆ∞ÂøÜÔºöËÆæËÆ°ÊúâË∂£ÁöÑÂú∫ÊôØ
               - ËØçÊ†πÊãÜËß£ÔºöÁî®ÁÆÄÂçïÊòìÊáÇÁöÑÊñπÂºèËß£Èáä
               - Áõ∏ÂÖ≥ËØçÂØπÊØîÔºöÈÄöËøáÂØπÊØîÂä†Ê∑±ËÆ∞ÂøÜ
            
            4. Áõ∏ÂÖ≥Áü≠ËØ≠ÂíåÁõ∏ÂÖ≥ÂçïËØçÈÉΩË¶ÅÂåÖÂê´‰∏≠Ëã±ÊñáÂØπÁÖß
            
            ËØ∑Á°Æ‰øùÂÜÖÂÆπÁîüÂä®ÊúâË∂£‰∏îÂáÜÁ°ÆÔºåÂπ∂ËøîÂõûÁ∫ØJSONÊ†ºÂºè„ÄÇ`;

            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${KIMI_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: 'moonshot-v1-8k',
                        messages: [
                            {
                                role: 'user',
                                content: prompt
                            }
                        ],
                        temperature: 0.7,
                        max_tokens: 2000
                    })
                });

                if (!response.ok) {
                    throw new Error(`APIËØ∑Ê±ÇÂ§±Ë¥•: ${response.status} ${response.statusText}`);
                }

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(`APIÈîôËØØ: ${data.error.message}`);
                }
                
                const content = data.choices[0].message.content;
                
                // Â∞ùËØïËß£ÊûêJSON
                try {
                    // ÁßªÈô§ÂèØËÉΩÁöÑmarkdown‰ª£Á†ÅÂùóÊ†áËÆ∞
                    const jsonStr = content.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
                    const parsedData = JSON.parse(jsonStr);
                    
                    // Â¶ÇÊûúAPIÊ≤°ÊúâËøîÂõûË∞êÈü≥ËÆ∞ÂøÜÔºåÂ∞ùËØï‰ΩøÁî®Á§∫‰æãÔºà‰ªÖÁî®‰∫éÂ±ïÁ§∫Ôºâ
                    if (!parsedData.phoneticMemory && phoneticMemoryExamples[word.toLowerCase()]) {
                        parsedData.phoneticMemory = phoneticMemoryExamples[word.toLowerCase()];
                    }
                    
                    return parsedData;
                } catch (e) {
                    console.error('JSONËß£ÊûêÂ§±Ë¥•:', e);
                    // Â¶ÇÊûúËß£ÊûêÂ§±Ë¥•ÔºåËøîÂõû‰∏Ä‰∏™Âü∫Êú¨ÁªìÊûÑ
                    return {
                        word: word,
                        phonetic: 'Êü•ËØ¢‰∏≠...',
                        translations: {
                            en: content,
                            zh: 'Ëß£ÊûêÂ§±Ë¥•ÔºåËØ∑Êü•ÁúãÂéüÂßãÂÜÖÂÆπ'
                        },
                        wordType: 'Êú™Áü•',
                        etymology: {
                            root: 'ÊöÇÊó†',
                            origin: 'ÊöÇÊó†'
                        },
                        phoneticMemory: phoneticMemoryExamples[word.toLowerCase()] || null,
                        memoryTips: content,
                        examples: {
                            en: '',
                            zh: ''
                        },
                        phrases: [],
                        relatedWords: []
                    };
                }
            } catch (error) {
                console.error('ËØ¶ÁªÜÈîôËØØ‰ø°ÊÅØ:', error);
                
                // Ê£ÄÊü•ÊòØÂê¶ÊòØCORSÈîôËØØ
                if (error.message.includes('CORS') || error.message.includes('Failed to fetch')) {
                    console.log('üí° ÊèêÁ§∫ÔºöÊ£ÄÊµãÂà∞CORSÈîôËØØÔºåËØ∑Â∞ùËØï‰ª•‰∏ãËß£ÂÜ≥ÊñπÊ°àÔºö');
                    console.log('1. Â∞Ü USE_PROXY ËÆæÁΩÆ‰∏∫ true');
                    console.log('2. ËÆøÈóÆ https://cors-anywhere.herokuapp.com/corsdemo Âπ∂ÁÇπÂáªÊåâÈíÆÊøÄÊ¥ª‰ª£ÁêÜ');
                    console.log('3. ÊàñÈÉ®ÁΩ≤‰∏Ä‰∏™ÂêéÁ´ØÊúçÂä°Âô®Êù•‰ª£ÁêÜAPIËØ∑Ê±Ç');
                }
                
                throw error;
            }
        }

        // Ë∞êÈü≥ËÆ∞ÂøÜÁ§∫‰æãÔºà‰ªÖÁî®‰∫éAPIÂ§±Ë¥•Êó∂ÁöÑÂ±ïÁ§∫Ôºâ
        const phoneticMemoryExamples = {
            'ambulance': { chinese: '‰ø∫‰∏çËÉΩÊ≠ª', explanation: 'ÊïëÊä§ËΩ¶Êù•‰∫ÜÔºå‰ø∫‰∏çËÉΩÊ≠ªÔºÅ' },
            'pest': { chinese: 'ÊãçÊ≠ªÂÆÉ', explanation: 'ÂÆ≥Ëô´Êù•‰∫ÜÔºåÊãçÊ≠ªÂÆÉÔºÅ' },
            'economy': { chinese: '‰æùÈù†ÂÜúÊ∞ë', explanation: 'ÁªèÊµéÂèëÂ±ï‰æùÈù†ÂÜúÊ∞ë' }
        };

        // ÁîüÊàêË∞êÈü≥ËÆ∞ÂøÜHTML
        function generatePhoneticMemory(data) {
            // ‰ΩøÁî®APIËøîÂõûÁöÑË∞êÈü≥ËÆ∞ÂøÜÊàñÁ§∫‰æã
            if (data.phoneticMemory && data.phoneticMemory.chinese) {
                return `
                    <div class="phonetic-memory">
                        <div class="phonetic-memory-title">
                            üéØ Áã¨ÂÆ∂Ë∞êÈü≥ËÆ∞ÂøÜÊ≥ï
                            <span class="phonetic-memory-badge">Ë∂ÖÂ•ΩËÆ∞</span>
                        </div>
                        <div class="phonetic-item">
                            <span class="phonetic-word">${data.word}</span>
                            <span class="phonetic-arrow">‚ûî</span>
                            <span class="phonetic-text">${data.phoneticMemory.chinese}</span>
                            <span class="phonetic-explanation">(${data.phoneticMemory.explanation})</span>
                        </div>
                    </div>
                `;
            }
            
            // Â¶ÇÊûúÊ≤°ÊúâË∞êÈü≥ËÆ∞ÂøÜÔºåÊòæÁ§∫ÊèêÁ§∫
            return `
                <div class="phonetic-memory">
                    <div class="phonetic-memory-title">
                        üéØ Ë∞êÈü≥ËÆ∞ÂøÜÊ≥ï
                        <span class="phonetic-memory-badge">AIÁîüÊàê‰∏≠</span>
                    </div>
                    <div class="phonetic-item">
                        <span class="phonetic-word">${data.word}</span>
                        <span class="phonetic-arrow">‚ûî</span>
                        <span class="phonetic-text">Ê≠£Âú®‰∏∫‰Ω†ÊÉ≥Ë∞êÈü≥...</span>
                        <span class="phonetic-explanation">(APIÂ∞ÜÊ†πÊçÆÂèëÈü≥ÁîüÊàê‰∏≠ÊñáË∞êÈü≥)</span>
                    </div>
                </div>
            `;
        }
        function displayMockData(word) {
            const mockData = {
                'love': {
                    word: 'love',
                    phonetic: '/l åv/',
                    translations: {
                        en: 'A strong feeling of affection, care, and attachment',
                        zh: 'Áà±ÔºåÁÉ≠Áà±ÔºåÂñúÁà±'
                    },
                    wordType: 'ÂêçËØç/Âä®ËØç',
                    etymology: {
                        root: '*love* Êù•Ëá™Âè§Ëã±ËØ≠ *lufu*Ôºå‰∏éÂæ∑ËØ≠ÁöÑ *Liebe* ÂêåÊ∫ê„ÄÇÊ†∏ÂøÉÂê´‰πâÈÉΩÊòØ"ÂÖ≥ÊÄÄ"Âíå"ÁèçËßÜ"„ÄÇ',
                        origin: 'Âú®Âè§ËÄÅÁöÑÊó•ËÄ≥ÊõºÈÉ®ËêΩ‰∏≠ÔºåloveÊúÄÂàùÊåáÁöÑÊòØÂØπÂÆ∂‰∫∫ÂíåÈÉ®ËêΩÊàêÂëòÁöÑÂÖ≥ÊÄÄ‰πãÊÉÖ„ÄÇÈöèÁùÄÊó∂Èó¥Êé®ÁßªÔºåËøô‰∏™ËØçÈÄêÊ∏êÊâ©Â±ïÂà∞‰∫ÜÊµ™Êº´‰πãÁà±„ÄÇÊúâË∂£ÁöÑÊòØÔºåÂú®‰∏≠‰∏ñÁ∫™ÔºåÈ™ëÂ£´‰ª¨Â∞ÜloveËßÜ‰∏∫‰∏ÄÁßçÈ´òË¥µÁöÑÊÉÖÊÑüÔºåÂøÖÈ°ªÈÄöËøáÂãáÊï¢ÁöÑË°å‰∏∫Êù•ËØÅÊòé„ÄÇ'
                    },
                    memoryTips: 'üíù Ë∞êÈü≥ËÆ∞ÂøÜÔºölove ‚âà "ËÄÅÂ¶à" - ËÄÅÂ¶àÁöÑÁà±ÊòØÊúÄÊó†ÁßÅÁöÑÔºÅ\nüé® ÂõæÂÉèËÅîÊÉ≥ÔºöÊÉ≥Ë±°‰∏Ä‰∏™Á∫¢Ëâ≤ÁöÑÂøÉÂΩ¢Ê∞îÁêÉÔºåÈ£òÂú®ËìùÂ§©‰∏ä\nüìñ ÊÉÖÊôØËÆ∞ÂøÜÔºöI love youËøôÂè•ËØùÊòØÂÖ®‰∏ñÁïåÈÄöÁî®ÁöÑÈ≠îÊ≥ïÂííËØ≠',
                    examples: {
                        en: 'Love makes the world go round.',
                        zh: 'Áà±ËÆ©‰∏ñÁïåËΩ¨Âä®„ÄÇ'
                    },
                    phrases: ['fall in love Âù†ÂÖ•Áà±Ê≤≥', 'love at first sight ‰∏ÄËßÅÈíüÊÉÖ', 'puppy love ÂàùÊÅã'],
                    relatedWords: ['lover Áà±‰∫∫', 'lovely ÂèØÁà±ÁöÑ', 'beloved ÂøÉÁà±ÁöÑ'],
                    examPoints: 'ÂõõÁ∫ßÈ´òÈ¢ëËØçÊ±áÔºÅÂ∏∏ËÄÉÊê≠ÈÖçÔºöbe in love withÔºà‰∏é...Áõ∏Áà±ÔºâÔºålove to do/doingÔºàÂñúÊ¨¢ÂÅöÊüê‰∫ãÔºâ„ÄÇÊ≥®ÊÑèlove‰ΩúÂä®ËØçÊó∂ÁöÑÁî®Ê≥ïÂå∫Âà´„ÄÇ'
                },
                'happy': {
                    word: 'happy',
                    phonetic: '/Ààh√¶pi/',
                    translations: {
                        en: 'Feeling or showing pleasure or contentment',
                        zh: 'Âø´‰πêÁöÑÔºåÂπ∏Á¶èÁöÑÔºåÈ´òÂÖ¥ÁöÑ'
                    },
                    wordType: 'ÂΩ¢ÂÆπËØç',
                    etymology: {
                        root: '*hap* ÊÑè‰∏∫"ËøêÊ∞î„ÄÅÊú∫‰ºö"Ôºå*-y* ÊòØÂΩ¢ÂÆπËØçÂêéÁºÄ„ÄÇÊâÄ‰ª• happy ÂéüÊÑèÊòØ"Âπ∏ËøêÁöÑ"„ÄÇ',
                        origin: '14‰∏ñÁ∫™ÁöÑËã±ÂõΩ‰∫∫ËÆ§‰∏∫ÔºåÂø´‰πêÊù•Ëá™‰∫éÂ•ΩËøêÊ∞î„ÄÇÂΩìÂ•Ω‰∫ã"Á¢∞Â∑ß"(happen)ÂèëÁîüÊó∂Ôºå‰∫∫‰ª¨Â∞±‰ºöÊÑüÂà∞happy„ÄÇËøô‰∏™ËØç‰ªé"Âπ∏Ëøê"ÊºîÂèò‰∏∫"Âø´‰πê"ÔºåÂèçÊò†‰∫ÜÂè§‰∫∫ËÆ§‰∏∫Âø´‰πê‰æùËµñ‰∫éÂëΩËøêÁöÑËßÇÂøµ„ÄÇ'
                    },
                    memoryTips: 'üéµ Ë∞êÈü≥ËÆ∞ÂøÜÔºöhappy ‚âà "ÂìàÁöÆ" - Á¨ëÂìàÂìàÁöÑÊ†∑Â≠ê\nüòä Ë°®ÊÉÖËÅîÊÉ≥ÔºöÁúãÂà∞happyÂ∞±ÊÉ≥Âà∞üòäÁöÑË°®ÊÉÖ\nüéâ Âú∫ÊôØËÆ∞ÂøÜÔºöHappy Birthday! ÁîüÊó•Âø´‰πêÊòØÊúÄÂ∏∏Áî®ÁöÑÁ•ùÁ¶è',
                    examples: {
                        en: 'She was happy to see her old friends again.',
                        zh: 'Â•πÂæàÈ´òÂÖ¥ÂÜçÊ¨°ËßÅÂà∞ËÄÅÊúãÂèã„ÄÇ'
                    },
                    phrases: ['happy birthday ÁîüÊó•Âø´‰πê', 'happy ending ÁæéÊª°ÁªìÂ±Ä', 'happy hour Ê¨¢‰πêÊó∂ÂÖâ'],
                    relatedWords: ['happiness Âπ∏Á¶è', 'happily Âø´‰πêÂú∞', 'unhappy ‰∏çÂø´‰πêÁöÑ'],
                    examPoints: 'ÂõõÁ∫ßÂøÖËÄÉËØçÔºÅÂ∏∏ËßÅÊê≠ÈÖçÔºöbe happy with/aboutÔºàÂØπ...ÊÑüÂà∞Êª°ÊÑèÔºâÔºåhappy to doÔºàÂæàÈ´òÂÖ¥ÂÅöÊüê‰∫ãÔºâ„ÄÇÂÜô‰Ωú‰∏≠ÁöÑÈ´òÈ¢ëËØçÊ±á„ÄÇ'
                },
                'dream': {
                    word: 'dream',
                    phonetic: '/driÀêm/',
                    translations: {
                        en: 'A series of thoughts, images, and sensations occurring in sleep; an aspiration or goal',
                        zh: 'Ê¢¶ÔºåÊ¢¶ÊÉ≥ÔºåÁêÜÊÉ≥'
                    },
                    wordType: 'ÂêçËØç/Âä®ËØç',
                    etymology: {
                        root: '*dream* Ê∫êËá™Âè§Ëã±ËØ≠ *drƒìam*ÔºåÂéüÊÑèÊòØ"Ê¨¢‰πê„ÄÅÈü≥‰πê"ÔºåÂêéÊù•ÊâçÊºîÂèò‰∏∫"Ê¢¶Â¢É"„ÄÇ',
                        origin: 'Âú®ÁõéÊ†ºÈ≤Å-ÊííÂÖãÈÄäÊó∂ÊúüÔºådreamÊåáÁöÑÊòØÊ¨¢‰πêÁöÑËÅö‰ºöÂíåÈü≥‰πê„ÄÇ‰∫∫‰ª¨ÂèëÁé∞ÔºåÁæéÂ•ΩÁöÑÊ¢¶Â¢É‰πüËÉΩÂ∏¶Êù•Á±ª‰ººÁöÑÊÑâÊÇ¶ÊÑüÔºå‰∫éÊòØËøô‰∏™ËØçÈÄêÊ∏êËΩ¨Âèò‰∏∫‰ªäÂ§©ÁöÑ"Ê¢¶"„ÄÇÁé∞Âú®ÂÆÉÊó¢ÊåáÁù°Áú†‰∏≠ÁöÑÊ¢¶Ôºå‰πüÊåá‰∫∫ÁîüÁöÑÊ¢¶ÊÉ≥„ÄÇ'
                    },
                    memoryTips: 'üåô ËÅîÊÉ≥ËÆ∞ÂøÜÔºöd-reamÔºå"ÁöÑ"(de)ÂÖâÁ∫ø(ream)ÔºåÊ¢¶ÊòØÂøÉÁÅµÁöÑÂÖâ\nüí≠ ÂõæÂÉèËÆ∞ÂøÜÔºöÊÉ≥Ë±°‰∫ëÊúµÂΩ¢Áä∂ÁöÑÂØπËØùÊ°ÜÔºåÈáåÈù¢Ë£ÖÊª°Ê¢¶ÊÉ≥\n‚ú® ËØçÊ†πËÆ∞ÂøÜÔºödream = d + ream(ÂÖâÊùü)ÔºåÊ¢¶ÊÉ≥ÊòØÁÖßËøõÁé∞ÂÆûÁöÑÂÖâ',
                    examples: {
                        en: 'Follow your dreams and never give up.',
                        zh: 'ËøΩÈöè‰Ω†ÁöÑÊ¢¶ÊÉ≥ÔºåÊ∞∏‰∏çÊîæÂºÉ„ÄÇ'
                    },
                    phrases: ['dream come true Ê¢¶ÊÉ≥ÊàêÁúü', 'sweet dreams ÂÅö‰∏™Â•ΩÊ¢¶', 'dream job ÁêÜÊÉ≥Â∑•‰Ωú'],
                    relatedWords: ['dreamer Ê¢¶ÊÉ≥ÂÆ∂', 'dreamy Ê¢¶ÂπªÁöÑ', 'daydream ÁôΩÊó•Ê¢¶'],
                    examPoints: 'ÂõõÁ∫ßÈáçÁÇπËØçÊ±áÔºÅÂ∏∏ËÄÉÔºödream of/about doingÔºàÊ¢¶ÊÉ≥ÂÅöÊüê‰∫ãÔºâÔºådreamÁî®‰ΩúÂä®ËØçÂíåÂêçËØçÁöÑÂå∫Âà´„ÄÇ‰ΩúÊñá‰∏≠Ë°®ËææÁêÜÊÉ≥Êä±Ë¥üÁöÑÂøÖÂ§áËØç„ÄÇ'
                },
                'default': {
                    word: word,
                    phonetic: '/Ààw…úÀêrd/',
                    translations: {
                        en: 'Example definition in English',
                        zh: 'Á§∫‰æã‰∏≠ÊñáÈáä‰πâ'
                    },
                    wordType: 'ÂêçËØç',
                    etymology: {
                        root: `*${word}* ÁöÑËØçÊ†πÂàÜÊûêÁ§∫‰æã`,
                        origin: `ËøôÊòØÂÖ≥‰∫é ${word} ÁöÑËØçÊ∫êÊïÖ‰∫ã...`
                    },
                    memoryTips: `üí° ËÆ∞ÂøÜ ${word} ÁöÑÂ∞èÊäÄÂ∑ßÔºöÂèØ‰ª•ËÅîÊÉ≥Áõ∏ÂÖ≥ÁöÑÁîªÈù¢ÊàñËÄÖË∞êÈü≥...`,
                    examples: {
                        en: `This is an example sentence with ${word}.`,
                        zh: `ËøôÊòØ‰∏Ä‰∏™ÂåÖÂê´ ${word} ÁöÑ‰æãÂè•„ÄÇ`
                    },
                    phrases: ['phrase 1', 'phrase 2', 'phrase 3'],
                    relatedWords: ['related1', 'related2', 'related3'],
                    examPoints: 'ËøôÊòØÂõõÁ∫ßËÄÉËØïÁõ∏ÂÖ≥ÁöÑËÄÉÁÇπËØ¥Êòé...'
                }
            };

            const data = mockData[word.toLowerCase()] || mockData['default'];
            hideLoading();
            displayResult(data);
        }

        // ÊòæÁ§∫Âä†ËΩΩÂä®Áîª
        function showLoading() {
            document.getElementById('loading').classList.add('show');
            document.getElementById('resultContainer').classList.remove('show');
        }

        // ÈöêËóèÂä†ËΩΩÂä®Áîª
        function hideLoading() {
            document.getElementById('loading').classList.remove('show');
        }

        // ÊòæÁ§∫ÁªìÊûú
        function displayResult(data) {
            hideLoading();
            
            const resultContainer = document.getElementById('resultContainer');
            
            let phrasesHtml = '';
            if (data.phrases && data.phrases.length > 0) {
                const phrasesContent = data.phrases.map(phrase => {
                    // ÂÖºÂÆπ‰∏§ÁßçÊ†ºÂºèÔºöÂ≠óÁ¨¶‰∏≤ÊàñÂØπË±°
                    if (typeof phrase === 'string') {
                        return `<div class="phrase-item">${phrase}</div>`;
                    } else if (phrase.en && phrase.zh) {
                        return `<div class="phrase-item"><strong>${phrase.en}</strong> - ${phrase.zh}</div>`;
                    }
                    return '';
                }).join('');
                
                phrasesHtml = `
                    <div class="info-section">
                        <div class="section-title">
                            <span class="section-icon">üìö</span>
                            Áõ∏ÂÖ≥Áü≠ËØ≠
                        </div>
                        <div class="section-content">
                            ${phrasesContent}
                        </div>
                    </div>
                `;
            }

            let relatedWordsHtml = '';
            if (data.relatedWords && data.relatedWords.length > 0) {
                const wordsContent = data.relatedWords.map(word => {
                    // ÂÖºÂÆπ‰∏§ÁßçÊ†ºÂºèÔºöÂ≠óÁ¨¶‰∏≤ÊàñÂØπË±°
                    if (typeof word === 'string') {
                        return `<span class="tag">${word}</span>`;
                    } else if (word.en && word.zh) {
                        return `<span class="tag" title="${word.zh}">${word.en} (${word.zh})</span>`;
                    }
                    return '';
                }).join(' ');
                
                relatedWordsHtml = `
                    <div class="info-section">
                        <div class="section-title">
                            <span class="section-icon">üîó</span>
                            Áõ∏ÂÖ≥ÂçïËØç
                        </div>
                        <div class="section-content">
                            ${wordsContent}
                        </div>
                    </div>
                `;
            }

            let examPointsHtml = '';
            if (data.examPoints) {
                examPointsHtml = `
                    <div class="info-section" style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9);">
                        <div class="section-title" style="color: #4caf50;">
                            <span class="section-icon">üìù</span>
                            Â§ßÂ≠¶ÂõõÁ∫ßËÄÉÁÇπ
                        </div>
                        <div class="section-content">
                            ${data.examPoints}
                        </div>
                    </div>
                `;
            }

            resultContainer.innerHTML = `
                <div class="word-card">
                    <div class="word-header">
                        <span class="word-title">${data.word}</span>
                        <span class="phonetic">${data.phonetic}</span>
                        <span class="word-type">${data.wordType}</span>
                    </div>
                </div>

                <div class="info-section">
                    <div class="section-title">
                        <span class="section-icon">üí¨</span>
                        Èáä‰πâ
                    </div>
                    <div class="section-content">
                        <strong>Ëã±ÊñáÔºö</strong> ${data.translations.en}<br>
                        <strong>‰∏≠ÊñáÔºö</strong> ${data.translations.zh}
                    </div>
                </div>

                ${generatePhoneticMemory(data)}

                <div class="info-section">
                    <div class="section-title">
                        <span class="section-icon">üå±</span>
                        ËØçÊ†πÂàÜÊûê
                    </div>
                    <div class="section-content">
                        ${data.etymology.root}
                    </div>
                </div>

                <div class="info-section">
                    <div class="section-title">
                        <span class="section-icon">üìñ</span>
                        ËØçÊ∫êÊïÖ‰∫ã
                    </div>
                    <div class="section-content">
                        ${data.etymology.origin}
                    </div>
                </div>

                <div class="memory-tips">
                    <div class="memory-tips-title">
                        üí° ÂÖ∂‰ªñËÆ∞ÂøÜÂ∞èÂ¶ôÊãõ
                    </div>
                    <div class="memory-content">
                        ${data.memoryTips}
                    </div>
                </div>

                <div class="info-section">
                    <div class="section-title">
                        <span class="section-icon">‚úèÔ∏è</span>
                        ‰æãÂè•
                    </div>
                    <div class="example-box">
                        <div class="example-en">${data.examples.en}</div>
                        <div class="example-zh">${data.examples.zh}</div>
                    </div>
                </div>

                ${phrasesHtml}
                ${relatedWordsHtml}
                ${examPointsHtml}
            `;
            
            resultContainer.classList.add('show');
        }

        // ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØ
        function showError(message) {
            hideLoading();
            const resultContainer = document.getElementById('resultContainer');
            resultContainer.innerHTML = `<div class="error-message">${message}</div>`;
            resultContainer.classList.add('show');
        }

        // ÂõûËΩ¶ÈîÆËß¶ÂèëÊü•ËØ¢
        document.getElementById('wordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchWord();
            }
        });
    </script>
</body>
</html>
